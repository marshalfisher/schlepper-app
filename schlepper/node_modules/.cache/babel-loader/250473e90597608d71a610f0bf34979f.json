{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/marsh/Documents/Codeworks/projects/schlepper-app/schlepper/src/components/search-minis/release-mini/release-mini.tsx\",\n    _s = $RefreshSig$();\n\nimport apiService from '../../../APIservice';\nimport { useAppSelector, useAppDispatch } from '../../../redux/hooks';\nimport { changeCollection, changeWants } from '../../../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ReleaseMini = _ref => {\n  _s();\n\n  let {\n    result\n  } = _ref;\n  //redux\n  const username = useAppSelector(state => state.user);\n  const dispatch = useAppDispatch(); //adds search result to user's collection\n\n  async function handleCollectionClick() {\n    const res = await apiService.addCollection({\n      username,\n      album: result.id\n    });\n    dispatch(changeCollection(res));\n  } //adds search result to user's wants\n\n\n  async function handleWantClick() {\n    const res = await apiService.addWant({\n      username,\n      album: result.id\n    });\n    dispatch(changeWants(res));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mini\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: result.thumb,\n      alt: \"Album Cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mini-info\",\n      children: result.label && result.formats && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: result.title ? result.title : 'Album'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: result.label[0] ? result.label[0] : 'Label'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: result.year ? result.year : 'Year'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: result.formats[0].name ? result.formats[0].name : 'Format'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCollectionClick,\n          children: \"Add to Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleWantClick,\n          children: \"Add to Wants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ReleaseMini, \"sY+IHzoEsXkMFpFh87O+AwaVCcY=\", false, function () {\n  return [useAppSelector, useAppDispatch];\n});\n\n_c = ReleaseMini;\nexport default ReleaseMini;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReleaseMini\");","map":{"version":3,"sources":["/mnt/c/Users/marsh/Documents/Codeworks/projects/schlepper-app/schlepper/src/components/search-minis/release-mini/release-mini.tsx"],"names":["apiService","useAppSelector","useAppDispatch","changeCollection","changeWants","ReleaseMini","result","username","state","user","dispatch","handleCollectionClick","res","addCollection","album","id","handleWantClick","addWant","thumb","label","formats","title","year","name"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,qBAAvB;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,sBAA/C;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,wBAA9C;;;;AAOA,MAAMC,WAA4B,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAAEC,IAAAA;AAAF,GAAe;AACnD;AACA,QAAMC,QAAQ,GAAGN,cAAc,CAASO,KAAK,IAAIA,KAAK,CAACC,IAAxB,CAA/B;AACA,QAAMC,QAAQ,GAAGR,cAAc,EAA/B,CAHmD,CAKnD;;AACA,iBAAeS,qBAAf,GAAsD;AACpD,UAAMC,GAAG,GAAG,MAAMZ,UAAU,CAACa,aAAX,CAAyB;AAAEN,MAAAA,QAAF;AAAYO,MAAAA,KAAK,EAAER,MAAM,CAACS;AAA1B,KAAzB,CAAlB;AACAL,IAAAA,QAAQ,CAACP,gBAAgB,CAACS,GAAD,CAAjB,CAAR;AACD,GATkD,CAWnD;;;AACA,iBAAeI,eAAf,GAAgD;AAC9C,UAAMJ,GAAG,GAAG,MAAMZ,UAAU,CAACiB,OAAX,CAAmB;AAAEV,MAAAA,QAAF;AAAYO,MAAAA,KAAK,EAAER,MAAM,CAACS;AAA1B,KAAnB,CAAlB;AACAL,IAAAA,QAAQ,CAACN,WAAW,CAACQ,GAAD,CAAZ,CAAR;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACE;AAAK,MAAA,GAAG,EAAEN,MAAM,CAACY,KAAjB;AAAwB,MAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBACGZ,MAAM,CAACa,KAAP,IAAgBb,MAAM,CAACc,OAAvB,iBACC;AAAA,gCACE;AAAA,oBAAKd,MAAM,CAACe,KAAP,GAAef,MAAM,CAACe,KAAtB,GAA8B;AAAnC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAIf,MAAM,CAACa,KAAP,CAAa,CAAb,IAAkBb,MAAM,CAACa,KAAP,CAAa,CAAb,CAAlB,GAAoC;AAAxC;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,oBAAIb,MAAM,CAACgB,IAAP,GAAchB,MAAM,CAACgB,IAArB,GAA4B;AAAhC;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA,oBAAIhB,MAAM,CAACc,OAAP,CAAe,CAAf,EAAkBG,IAAlB,GAAyBjB,MAAM,CAACc,OAAP,CAAe,CAAf,EAAkBG,IAA3C,GAAkD;AAAtD;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAQ,UAAA,OAAO,EAAEZ,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAQ,UAAA,OAAO,EAAEK,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD,CAlCD;;GAAMX,W;UAEaJ,c,EACAC,c;;;KAHbG,W;AAoCN,eAAeA,WAAf","sourcesContent":["import apiService from '../../../APIservice';\r\nimport { useAppSelector, useAppDispatch } from '../../../redux/hooks';\r\nimport { changeCollection, changeWants } from '../../../redux/actions';\r\nimport { Album } from '../../../interfaces/Album';\r\n\r\ninterface Props {\r\n  result: Album;\r\n}\r\n\r\nconst ReleaseMini: React.FC<Props> = ({ result }) => {\r\n  //redux\r\n  const username = useAppSelector<string>(state => state.user);\r\n  const dispatch = useAppDispatch();\r\n\r\n  //adds search result to user's collection\r\n  async function handleCollectionClick(): Promise<void> {\r\n    const res = await apiService.addCollection({ username, album: result.id });\r\n    dispatch(changeCollection(res));\r\n  }\r\n\r\n  //adds search result to user's wants\r\n  async function handleWantClick(): Promise<void> {\r\n    const res = await apiService.addWant({ username, album: result.id });\r\n    dispatch(changeWants(res));\r\n  }\r\n\r\n  return (\r\n    <div className='mini'>\r\n      <img src={result.thumb} alt='Album Cover' />\r\n      <div className='mini-info'>\r\n        {result.label && result.formats && (\r\n          <>\r\n            <h2>{result.title ? result.title : 'Album'}</h2>\r\n            <p>{result.label[0] ? result.label[0] : 'Label'}</p>\r\n            <p>{result.year ? result.year : 'Year'}</p>\r\n            <p>{result.formats[0].name ? result.formats[0].name : 'Format'}</p>\r\n            <button onClick={handleCollectionClick}>Add to Collection</button>\r\n            <button onClick={handleWantClick}>Add to Wants</button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReleaseMini;\r\n"]},"metadata":{},"sourceType":"module"}